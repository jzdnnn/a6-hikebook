<style>
  .booking-container {
    max-width: 700px;
    margin: 40px auto;
    padding: 20px;
  }
  
  .booking-progress {
    display: flex;
    justify-content: space-between;
    margin-bottom: 40px;
    position: relative;
  }
  
  .booking-progress::before {
    content: '';
    position: absolute;
    top: 20px;
    left: 0;
    right: 0;
    height: 2px;
    background: #e0e0e0;
    z-index: 0;
  }
  
  .progress-step {
    text-align: center;
    position: relative;
    z-index: 1;
    flex: 1;
  }
  
  .progress-circle {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: white;
    border: 3px solid #e0e0e0;
    margin: 0 auto 10px auto;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
  }
  
  .progress-step.completed .progress-circle {
    background: #97bc62;
    border-color: #97bc62;
    color: white;
  }
  
  .progress-step.active .progress-circle {
    background: #2c5f2d;
    border-color: #2c5f2d;
    color: white;
  }
  
  .progress-label {
    font-size: 0.9em;
    color: #666;
  }
  
  .progress-step.active .progress-label {
    color: #2c5f2d;
    font-weight: bold;
  }
  
  .booking-card {
    background: white;
    border-radius: 12px;
    padding: 30px;
    box-shadow: 0 2px 15px rgba(0,0,0,0.1);
    margin-bottom: 20px;
  }
  
  .review-section {
    margin-bottom: 30px;
  }
  
  .review-section h3 {
    color: #2c5f2d;
    border-bottom: 2px solid #2c5f2d;
    padding-bottom: 10px;
    margin-bottom: 15px;
  }
  
  .info-row {
    display: flex;
    justify-content: space-between;
    padding: 10px 0;
    border-bottom: 1px solid #e0e0e0;
  }
  
  .info-label {
    font-weight: 600;
    color: #666;
  }
  
  .info-value {
    color: #333;
  }
  
  .participants-list {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 8px;
    margin-top: 10px;
  }
  
  .participant-card {
    background: white;
    padding: 15px;
    border-radius: 6px;
    margin-bottom: 10px;
    border-left: 4px solid #2c5f2d;
  }
  
  .participant-card:last-child {
    margin-bottom: 0;
  }
  
  .price-breakdown {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
  }
  
  .price-row {
    display: flex;
    justify-content: space-between;
    padding: 10px 0;
  }
  
  .price-row.total {
    border-top: 2px solid #2c5f2d;
    margin-top: 10px;
    padding-top: 15px;
    font-size: 1.3em;
    font-weight: bold;
    color: #2c5f2d;
  }
  
  .payment-methods {
    margin: 20px 0;
  }
  
  .payment-option {
    background: white;
    border: 2px solid #e0e0e0;
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
  }
  
  .payment-option:hover {
    border-color: #2c5f2d;
  }
  
  .payment-option input[type="radio"] {
    margin-right: 15px;
    width: 20px;
    height: 20px;
  }
  
  .payment-option.selected {
    border-color: #2c5f2d;
    background: #f0f8f0;
  }
  
  .form-actions {
    display: flex;
    justify-content: space-between;
    margin-top: 30px;
    gap: 15px;
  }
  
  .btn {
    padding: 12px 30px;
    border: none;
    border-radius: 6px;
    font-size: 1em;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
    display: inline-block;
  }
  
  .btn-secondary {
    background: #6c757d;
    color: white;
  }
  
  .btn-secondary:hover {
    background: #5a6268;
  }
  
  .btn-primary {
    background: #2c5f2d;
    color: white;
    flex: 1;
  }
  
  .btn-primary:hover {
    background: #1e4520;
  }
</style>

<div class="booking-container">
  <!-- Progress Bar -->
  <div class="booking-progress">
    <div class="progress-step completed">
      <div class="progress-circle">✓</div>
      <div class="progress-label">Data Diri</div>
    </div>
    <div class="progress-step completed">
      <div class="progress-circle">✓</div>
      <div class="progress-label">Data Kelompok</div>
    </div>
    <div class="progress-step active">
      <div class="progress-circle">3</div>
      <div class="progress-label">Review</div>
    </div>
    <div class="progress-step">
      <div class="progress-circle">4</div>
      <div class="progress-label">Payment</div>
    </div>
  </div>
  
  <div class="booking-card">
    <h2>� Review Booking Anda</h2>
    <p>Mohon periksa kembali data booking Anda sebelum melanjutkan ke pembayaran.</p>
    
    <!-- Package Info -->
    <div class="review-section">
      <h3>� Paket Pendakian</h3>
      <div class="info-row">
        <span class="info-label">Nama Paket</span>
        <span class="info-value"><%= package.name %></span>
      </div>
      <div class="info-row">
        <span class="info-label">Durasi</span>
        <span class="info-value"><%= package.duration %></span>
      </div>
      <div class="info-row">
        <span class="info-label">Jarak</span>
        <span class="info-value"><%= package.distance %></span>
      </div>
      <div class="info-row">
        <span class="info-label">Tingkat Kesulitan</span>
        <span class="info-value"><%= package.difficulty %></span>
      </div>
    </div>
    
    <!-- Customer Info -->
    <div class="review-section">
      <h3>� Data Pemesan</h3>
      <div class="info-row">
        <span class="info-label">Nama</span>
        <span class="info-value"><%= bookingData.customerName %></span>
      </div>
      <div class="info-row">
        <span class="info-label">Email</span>
        <span class="info-value"><%= bookingData.customerEmail %></span>
      </div>
      <div class="info-row">
        <span class="info-label">Telepon</span>
        <span class="info-value"><%= bookingData.customerPhone %></span>
      </div>
      <div class="info-row">
        <span class="info-label">Tanggal Pendakian</span>
        <span class="info-value">
          <%= new Date(bookingData.hikingDate).toLocaleDateString('id-ID', { 
            weekday: 'long', 
            year: 'numeric', 
            month: 'long', 
            day: 'numeric' 
          }) %>
        </span>
      </div>
    </div>
    
    <!-- Participants Info -->
    <div class="review-section">
      <h3>� Data Peserta (<%= bookingData.numberOfPeople %> orang)</h3>
      <div class="participants-list">
        <% if (bookingData.participants && bookingData.participants.length > 0) { %>
          <% bookingData.participants.forEach((participant, index) => { %>
            <div class="participant-card">
              <strong>Peserta #<%= index + 1 %><%= index === 0 ? ' (Pemesan)' : '' %></strong>
              <div>Nama: <%= participant.name %></div>
              <div>Usia: <%= participant.age %> tahun</div>
              <div>No. ID: <%= participant.idNumber %></div>
            </div>
          <% }); %>
        <% } else { %>
          <p>Belum ada data peserta</p>
        <% } %>
      </div>
    </div>
    
    <!-- Price Breakdown -->
    <div class="review-section">
      <h3>� Rincian Harga</h3>
      <div class="price-breakdown">
        <div class="price-row">
          <span>Harga per orang</span>
          <span>Rp <%= package.price.toLocaleString('id-ID') %></span>
        </div>
        <div class="price-row">
          <span>Jumlah peserta</span>
          <span><%= bookingData.numberOfPeople %> orang</span>
        </div>
        <div class="price-row total">
          <span>TOTAL PEMBAYARAN</span>
          <span>Rp <%= totalPrice.toLocaleString('id-ID') %></span>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Payment Method Selection -->
  <div class="booking-card">
    <h3>� Pilih Metode Pembayaran</h3>
    <form action="/booking/checkout" method="POST">
      <div class="payment-methods">
        <label class="payment-option">
          <input type="radio" name="paymentMethod" value="transfer_bank" required />
          <div>
            <strong>🏦 Transfer Bank</strong>
            <div style="font-size: 0.9em; color: #666;">BCA, Mandiri, BNI, BRI</div>
          </div>
        </label>
        
        <label class="payment-option">
          <input type="radio" name="paymentMethod" value="e_wallet" />
          <div>
            <strong>� E-Wallet</strong>
            <div style="font-size: 0.9em; color: #666;">GoPay, OVO, DANA, ShopeePay</div>
          </div>
        </label>
        
        <label class="payment-option">
          <input type="radio" name="paymentMethod" value="credit_card" />
          <div>
            <strong>� Kartu Kredit/Debit</strong>
            <div style="font-size: 0.9em; color: #666;">Visa, Mastercard, JCB</div>
          </div>
        </label>
      </div>
      
      <div class="form-actions">
        <a href="/booking/step2" class="btn btn-secondary">
          ← Kembali
        </a>
        <button type="submit" class="btn btn-primary">
          Lanjut ke Pembayaran →
        </button>
      </div>
    </form>
  </div>
</div>

<script>
  // Highlight selected payment method
  document.querySelectorAll('.payment-option').forEach(option => {
    option.addEventListener('click', function() {
      document.querySelectorAll('.payment-option').forEach(opt => {
        opt.classList.remove('selected');
      });
      this.classList.add('selected');
      this.querySelector('input[type="radio"]').checked = true;
    });
  });
</script>

